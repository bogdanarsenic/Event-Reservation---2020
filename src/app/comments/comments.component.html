<body>

    <div class="container pb-cmnt-container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <div class="panel panel-info">
    
    
                    <div class="panel-body">
    
                        <ul class="list-group">
                         
                            
                            <div class="list-group-item" *ngFor="let com of allComments">
                                <div class="row">
                                  <li>
                                    <div> "{{com.UserId}}" said "{{com.Text}}" and rated with {{com.Rating}}</div>
                                
                        
                                    <button *ngIf="IsSeller() && com.IsActive==false" class="btn btn-info"  (click)="ApproveNow(com.Id)"> Approve</button>
                                  </li>
                                </div>

                                
                            </div>
                       
                        </ul>     
                 
                                
                    </div>

                    <div *ngIf="noCom==0">
                      There are no comments on this event
                    </div>
                    
                    <div *ngIf="noCom!=0">
                                    Average rate is: {{rate}}
                     </div>
                    <div *ngIf="IsBuyer() && CanWrite">
    
                        <form [formGroup]="commentUserForm" (ngSubmit)="onSubmit()">
                            <div class="form-group">
                              <textarea placeholder="Write your comment here!" class="pb-cmnt-textarea" class="form-control"  name="Text" id="Text" formControlName="Text"></textarea>
                              <div *ngIf="commentUserForm.controls.Text.invalid && (commentUserForm.controls.Text.dirty || commentUserForm.controls.Text.touched)">  
                                <div class="attent" *ngIf="commentUserForm.controls.Text.errors?.required">
                                        Text is required!
                                </div>
                                <div class="attent" *ngIf="commentUserForm.controls.Text.errors.maxlength">
                                    Must have less than 100 characters!
                                  </div>
                               </div>
                            </div>
    
                            <div class="form-group">
                              <span><small>Enter rating between 1-5</small></span>
                              <input class="form-control" formControlName="Rate" name="Rate" onKeyDown="return false" id="Rate" min="1" max="5" type="number" />
                              <div *ngIf="commentUserForm.controls.Rate.touched">
                                <div *ngIf="commentUserForm.controls.Rate.errors?.required">
                                        <div class="attent">
                                                Rating is required!
                                        </div>
                                </div>
                              </div>
                            </div>
                              
                              <button class="btn btn-primary pull-right"  type="submit">Share</button>
    
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    </body>
